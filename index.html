<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>30-Day UI/UX Tracker</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }

        /* Custom Scrollbar for textareas */
        textarea::-webkit-scrollbar {
            width: 8px;
        }
        textarea::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        textarea::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        textarea::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        .check-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Sticky Header -->
    <header class="fixed top-0 w-full z-50 glass-header shadow-sm">
        <div class="max-w-4xl mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <i class="ph-fill ph-pencil-circle text-indigo-600 text-3xl"></i>
                <div>
                    <h1 class="font-bold text-lg leading-tight text-slate-900">UI/UX Tracker</h1>
                    <p class="text-xs text-slate-500 font-medium">Frontend Design Journey</p>
                </div>
            </div>
            
            <div class="flex items-center gap-3">
                <button onclick="downloadPDF()" class="hidden sm:flex items-center gap-2 bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                    <i class="ph ph-download-simple"></i>
                    <span>Export PDF</span>
                </button>
                <button onclick="downloadPDF()" class="sm:hidden flex items-center justify-center bg-slate-900 text-white w-9 h-9 rounded-lg">
                    <i class="ph ph-download-simple"></i>
                </button>
            </div>
        </div>
        
        <!-- Progress Bar Container -->
        <div class="w-full bg-slate-200 h-1.5">
            <div id="global-progress" class="bg-indigo-600 h-1.5 transition-all duration-500 ease-out" style="width: 0%"></div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 pt-24 pb-12">
        
        <!-- Stats Overview -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100">
                <p class="text-xs text-slate-500 uppercase font-semibold tracking-wider">Days Done</p>
                <p class="text-2xl font-bold text-slate-800"><span id="days-count">0</span>/30</p>
            </div>
            <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100">
                <p class="text-xs text-slate-500 uppercase font-semibold tracking-wider">Completion</p>
                <p class="text-2xl font-bold text-indigo-600"><span id="percent-count">0</span>%</p>
            </div>
            <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 col-span-2 flex items-center justify-between">
                <div>
                    <p class="text-xs text-slate-500 uppercase font-semibold tracking-wider">Current Phase</p>
                    <p class="text-lg font-bold text-slate-800" id="current-phase">Core Visuals</p>
                </div>
                <button onclick="resetProgress()" class="text-xs text-red-500 hover:text-red-700 underline">Reset All</button>
            </div>
        </div>

        <!-- Syllabus Container -->
        <div id="syllabus-container" class="space-y-8">
            <!-- Content will be injected here by JS -->
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 py-8 mt-12">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <p class="text-slate-500 text-sm">"Design judgment, not a design degree."</p>
            <p class="text-slate-400 text-xs mt-2">Data is stored locally on your device.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // --- DATA ---
        const roadmapData = [
            {
                week: 1,
                title: "Core Visual Foundations",
                desc: "The most important week. Stop designing for yourself.",
                days: [
                    { id: 1, title: "UI vs UX + Design Thinking", outcome: "You stop designing for yourself.", topics: ["UI vs UX difference", "What makes a UI 'good'", "User-first thinking", "Design constraints"] },
                    { id: 2, title: "Spacing Systems", outcome: "Your UI instantly looks cleaner.", topics: ["4px / 8px spacing rule", "Padding vs margin", "White space importance", "Consistent spacing patterns"] },
                    { id: 3, title: "Alignment & Layout", outcome: "No more 'something feels off' layouts.", topics: ["Left / center / right alignment", "Grid systems (12-column)", "Visual balance", "Content grouping"] },
                    { id: 4, title: "Typography Basics", outcome: "Text starts looking professional.", topics: ["Font types (serif vs sans)", "Font hierarchy", "Line height & readability", "Font scaling"] },
                    { id: 5, title: "Color Basics (Practical Only)", outcome: "No more random colors.", topics: ["Primary / secondary / neutral colors", "Contrast rules", "Semantic colors (error, success)", "Avoiding color overload"] },
                    { id: 6, title: "Visual Hierarchy", outcome: "Users see what you want first.", topics: ["Size hierarchy", "Weight hierarchy", "Color & spacing hierarchy", "Eye flow patterns (Z & F pattern)"] },
                    { id: 7, title: "Week 1 Practice", outcome: "Foundations locked in.", topics: ["Pick 1 website/app UI", "Analyze spacing, fonts, colors", "Rebuild 1 screen (even roughly)"] }
                ]
            },
            {
                week: 2,
                title: "UX Basics + Layout Patterns",
                desc: "Understanding how users think and move.",
                days: [
                    { id: 8, title: "UX Fundamentals", topics: ["User flows", "Cognitive load", "Obvious actions", "Reduce friction"] },
                    { id: 9, title: "UX Laws (Light)", topics: ["Hick’s Law", "Fitts’s Law", "Feedback principle", "Error prevention"] },
                    { id: 10, title: "Common Layout Patterns", topics: ["SaaS dashboards", "Landing pages", "Content vs navigation", "Card-based layouts"] },
                    { id: 11, title: "Responsive Design Thinking", topics: ["Mobile-first design", "Breakpoints", "Responsive spacing", "Responsive typography"] },
                    { id: 12, title: "Forms & Inputs UX", topics: ["Labels vs placeholders", "Error messages", "Required vs optional", "Validation UX"] },
                    { id: 13, title: "States & Feedback", topics: ["Loading states", "Empty states", "Error states", "Success states"] },
                    { id: 14, title: "Week 2 Practice", topics: ["Redesign a form or dashboard screen", "Focus on UX clarity"] }
                ]
            },
            {
                week: 3,
                title: "Design Systems & FE Superpowers",
                desc: "Scaling your design with code in mind.",
                days: [
                    { id: 15, title: "Design Systems Basics", topics: ["What is a design system", "Atomic design", "Tokens", "Consistency"] },
                    { id: 16, title: "Components & Variants", topics: ["Buttons (all types)", "Inputs & dropdowns", "Modals & alerts", "Variants & states"] },
                    { id: 17, title: "Accessibility Basics", topics: ["Color contrast", "Keyboard navigation", "Focus states", "ARIA basics"] },
                    { id: 18, title: "Micro-Interactions", topics: ["Hover effects", "Transitions", "Feedback animations", "When NOT to animate"] },
                    { id: 19, title: "Figma for Developers", topics: ["Frames", "Auto-layout", "Components", "Inspect panel"] },
                    { id: 20, title: "Translating Design → Code", topics: ["Pixel-perfect mindset", "Spacing consistency in CSS", "Handling edge cases", "Responsive behavior"] },
                    { id: 21, title: "Week 3 Practice", topics: ["Convert a Figma design into UI", "Focus on accuracy & consistency"] }
                ]
            },
            {
                week: 4,
                title: "Design Judgment & Real-World Skills",
                desc: "Polishing and critique skills.",
                days: [
                    { id: 22, title: "UX Writing Basics", topics: ["Button copy", "Error message tone", "Empty state copy", "Clarity > cleverness"] },
                    { id: 23, title: "Performance vs Design", topics: ["Animations vs performance", "Image optimization", "Font loading UX", "Perceived performance"] },
                    { id: 24, title: "Design Critique Skill", topics: ["Why a UI works", "What can be removed", "Simplification mindset", "Trade-offs"] },
                    { id: 25, title: "Dark Mode Design", topics: ["Contrast adjustments", "Color selection", "Accessibility in dark UI"] },
                    { id: 26, title: "Mobile UX Patterns", topics: ["Touch targets", "Thumb zones", "Mobile navigation", "Gesture expectations"] },
                    { id: 27, title: "Real Product Analysis", topics: ["Analyze a popular app UI", "Identify good & bad decisions", "Suggest improvements"] },
                    { id: 28, title: "Build Your Own UI", topics: ["Design a small feature", "Then code it", "Compare before vs after"] },
                    { id: 29, title: "FE + Design Review Checklist", topics: ["Spacing consistency", "Typography hierarchy", "UX clarity", "States handled", "Accessibility check"] },
                    { id: 30, title: "Reflection & Taste Building", topics: ["Review old UI work", "Identify mistakes", "Create your own UI rules"] }
                ]
            }
        ];

        // --- STATE MANAGEMENT ---
        const DB_KEY = 'uiux_tracker_db_v1';
        let appState = {};

        function initApp() {
            // Load from LocalStorage
            const stored = localStorage.getItem(DB_KEY);
            if (stored) {
                appState = JSON.parse(stored);
            } else {
                // Initialize empty state
                appState = {};
                for (let i = 1; i <= 30; i++) {
                    appState[i] = { completed: false, notes: "" };
                }
            }
            renderUI();
            updateStats();
        }

        function saveState() {
            localStorage.setItem(DB_KEY, JSON.stringify(appState));
            updateStats();
        }

        function toggleComplete(dayId) {
            if (!appState[dayId]) appState[dayId] = { completed: false, notes: "" };
            appState[dayId].completed = !appState[dayId].completed;
            
            // UI Update Logic for Checkbox
            const btn = document.getElementById(`btn-check-${dayId}`);
            const card = document.getElementById(`card-day-${dayId}`);
            const icon = btn.querySelector('i');
            
            if (appState[dayId].completed) {
                btn.classList.remove('bg-white', 'border-slate-300', 'text-slate-300');
                btn.classList.add('bg-green-500', 'border-green-500', 'text-white');
                icon.classList.remove('ph-circle');
                icon.classList.add('ph-check-circle');
                card.classList.add('border-green-200', 'bg-green-50/50');
                card.classList.remove('border-slate-200', 'bg-white');
            } else {
                btn.classList.add('bg-white', 'border-slate-300', 'text-slate-300');
                btn.classList.remove('bg-green-500', 'border-green-500', 'text-white');
                icon.classList.add('ph-circle');
                icon.classList.remove('ph-check-circle');
                card.classList.remove('border-green-200', 'bg-green-50/50');
                card.classList.add('border-slate-200', 'bg-white');
            }
            saveState();
        }

        function updateNote(dayId, text) {
            if (!appState[dayId]) appState[dayId] = { completed: false, notes: "" };
            appState[dayId].notes = text;
            saveState();
        }

        function resetProgress() {
            if(confirm("Are you sure you want to clear all progress and notes? This cannot be undone.")) {
                localStorage.removeItem(DB_KEY);
                location.reload();
            }
        }

        // --- RENDER LOGIC ---
        function renderUI() {
            const container = document.getElementById('syllabus-container');
            container.innerHTML = '';

            roadmapData.forEach((week, index) => {
                // Week Header
                const weekEl = document.createElement('div');
                weekEl.className = 'week-section';
                weekEl.innerHTML = `
                    <div class="flex items-center gap-3 mb-4 sticky top-16 bg-slate-50/95 backdrop-blur py-2 z-10 border-b border-slate-200 md:static md:bg-transparent md:border-0">
                        <span class="bg-indigo-100 text-indigo-700 text-xs font-bold px-2 py-1 rounded uppercase tracking-wider">Week ${week.week}</span>
                        <h2 class="text-xl font-bold text-slate-800">${week.title}</h2>
                    </div>
                `;

                // Days Grid
                const grid = document.createElement('div');
                grid.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4';

                week.days.forEach(day => {
                    const state = appState[day.id] || { completed: false, notes: "" };
                    const isDone = state.completed;
                    
                    const dayCard = document.createElement('div');
                    dayCard.id = `card-day-${day.id}`;
                    // Conditional styling based on state
                    const baseClasses = "rounded-xl border p-5 transition-all duration-300 shadow-sm hover:shadow-md group";
                    const stateClasses = isDone 
                        ? "border-green-200 bg-green-50/50" 
                        : "border-slate-200 bg-white";
                    
                    dayCard.className = `${baseClasses} ${stateClasses}`;

                    dayCard.innerHTML = `
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <span class="text-xs font-bold text-slate-400 mb-1 block">Day ${day.id}</span>
                                <h3 class="font-bold text-lg text-slate-800 leading-tight">${day.title}</h3>
                            </div>
                            <button 
                                id="btn-check-${day.id}"
                                onclick="toggleComplete(${day.id})"
                                class="flex-shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all ${isDone ? 'bg-green-500 border-green-500 text-white' : 'bg-white border-slate-300 text-slate-300 hover:border-indigo-400 hover:text-indigo-400'}">
                                <i class="ph ${isDone ? 'ph-check-circle' : 'ph-circle'} text-xl"></i>
                            </button>
                        </div>
                        
                        <div class="mb-4">
                            <ul class="space-y-1">
                                ${day.topics.map(t => `<li class="text-sm text-slate-600 flex items-start gap-2"><span class="w-1.5 h-1.5 rounded-full bg-slate-300 mt-1.5 flex-shrink-0"></span>${t}</li>`).join('')}
                            </ul>
                            ${day.outcome ? `<p class="mt-3 text-xs font-semibold text-indigo-600 bg-indigo-50 inline-block px-2 py-1 rounded">✅ ${day.outcome}</p>` : ''}
                        </div>

                        <div class="mt-4 pt-3 border-t border-dashed border-slate-200">
                            <label class="text-xs font-medium text-slate-500 mb-1 block flex items-center gap-1">
                                <i class="ph ph-notebook"></i> Personal Notes
                            </label>
                            <textarea 
                                oninput="updateNote(${day.id}, this.value)"
                                class="w-full text-sm bg-slate-50 border border-slate-200 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white transition-all resize-y min-h-[60px]"
                                placeholder="Jot down key learnings here..."
                            >${state.notes}</textarea>
                        </div>
                    `;
                    grid.appendChild(dayCard);
                });

                weekEl.appendChild(grid);
                container.appendChild(weekEl);
            });
        }

        function updateStats() {
            const totalDays = 30;
            const completedDays = Object.values(appState).filter(d => d.completed).length;
            const percentage = Math.round((completedDays / totalDays) * 100);

            // Update DOM
            document.getElementById('days-count').textContent = completedDays;
            document.getElementById('percent-count').textContent = percentage;
            document.getElementById('global-progress').style.width = `${percentage}%`;

            // Determine Phase
            let phase = "Core Visuals (Week 1)";
            if (completedDays >= 22) phase = "Judgment & Skills (Week 4)";
            else if (completedDays >= 15) phase = "Design Systems (Week 3)";
            else if (completedDays >= 8) phase = "UX Basics (Week 2)";
            
            // Only update phase text if progress > 0
            if (completedDays > 0) {
                document.getElementById('current-phase').textContent = phase;
            } else {
                document.getElementById('current-phase').textContent = "Not Started";
            }
        }

        // --- PDF EXPORT ---
        async function downloadPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Config
            const margin = 20;
            let y = 20;
            const lineHeight = 7;
            const pageWidth = doc.internal.pageSize.getWidth();
            const contentWidth = pageWidth - (margin * 2);

            // Title
            doc.setFont("helvetica", "bold");
            doc.setFontSize(22);
            doc.setTextColor(67, 56, 202); // Indigo color
            doc.text("UI/UX Learning Journey", margin, y);
            y += 10;
            
            // Stats
            doc.setFont("helvetica", "normal");
            doc.setFontSize(12);
            doc.setTextColor(100);
            const statsText = `Generated on: ${new Date().toLocaleDateString()} | Progress: ${document.getElementById('percent-count').innerText}% Completed`;
            doc.text(statsText, margin, y);
            y += 15;

            doc.setDrawColor(200);
            doc.line(margin, y, pageWidth - margin, y);
            y += 10;

            // Iterate through content
            let hasContent = false;

            roadmapData.forEach(week => {
                // Check if week has any completed items or notes
                const weekHasData = week.days.some(d => {
                    const st = appState[d.id];
                    return st && (st.completed || (st.notes && st.notes.trim().length > 0));
                });

                if (weekHasData) {
                    hasContent = true;

                    // Week Header
                    if (y > 270) { doc.addPage(); y = 20; }
                    doc.setFont("helvetica", "bold");
                    doc.setFontSize(16);
                    doc.setTextColor(30);
                    doc.text(`Week ${week.week}: ${week.title}`, margin, y);
                    y += 10;

                    week.days.forEach(day => {
                        const state = appState[day.id];
                        // Only print if completed or has notes
                        if (state && (state.completed || (state.notes && state.notes.trim().length > 0))) {
                            
                            if (y > 250) { doc.addPage(); y = 20; }

                            // Day Title
                            doc.setFont("helvetica", "bold");
                            doc.setFontSize(12);
                            doc.setTextColor(0);
                            const statusMark = state.completed ? "[DONE]" : "[IN PROGRESS]";
                            doc.text(`${statusMark} Day ${day.id}: ${day.title}`, margin, y);
                            y += 7;

                            // Topics
                            doc.setFont("helvetica", "italic");
                            doc.setFontSize(10);
                            doc.setTextColor(100);
                            const topicsStr = "Focus: " + day.topics.join(", ");
                            const splitTopics = doc.splitTextToSize(topicsStr, contentWidth);
                            doc.text(splitTopics, margin, y);
                            y += (splitTopics.length * 5) + 3;

                            // Notes
                            if (state.notes && state.notes.trim().length > 0) {
                                doc.setFont("helvetica", "normal");
                                doc.setFontSize(11);
                                doc.setTextColor(50);
                                doc.setFillColor(248, 250, 252); // Light bg
                                
                                const notePrefix = "Notes: ";
                                const splitNotes = doc.splitTextToSize(state.notes, contentWidth - 5);
                                const boxHeight = (splitNotes.length * 6) + 10;
                                
                                // Check if note box fits
                                if (y + boxHeight > 280) { doc.addPage(); y = 20; }

                                doc.rect(margin, y, contentWidth, boxHeight, 'F');
                                doc.text(splitNotes, margin + 2, y + 7);
                                y += boxHeight + 10;
                            } else {
                                y += 5;
                            }
                        }
                    });
                    y += 5; // Spacing between weeks
                }
            });

            if (!hasContent) {
                doc.setFont("helvetica", "normal");
                doc.text("No progress recorded yet. Start learning to populate this PDF!", margin, y + 10);
            }

            doc.save("UIUX-Learning-Notes.pdf");
        }

        // Init
        initApp();

    </script>
</body>
</html>
